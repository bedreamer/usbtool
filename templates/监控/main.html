<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>监控</title>
    {% include "base-head.html" %}
    <script src="/static/js/raphael-2.1.4.min.js"></script>
    <script src="/static/js/justgage-1.0.1.js"></script>
    <script>
        var p1 = null;
        var p2 = null;
        var f1 = null;
        $(document).ready(function () {
            p1 = new JustGage({
                id: "gauge1",
                value: 67,
                min: 0,
                max: 100,
                label: "bar",
                title: "出液压力(P1)"
            });
            p2 = new JustGage({
                id: "gauge2",
                value: 99,
                min: 0,
                max: 100,
                label: "bar",
                title: "回液压力(P2)"
            });
            f1 = new JustGage({
                id: "gauge3",
                value: 67,
                min: 0,
                max: 100,
                label: "L/min",
                title: "出口流量(F1)"
            });
            f1.refresh(10);

            function update() {
                $.getJSON("/json/monitor/1/", '', function (data, status, xhr) {
                    p1.refresh(data.p1);
                    p2.refresh(data.p2);
                    f1.refresh(data.f1);
                });
            }
            setInterval(update, 3000);
        });
    </script>
</head>
<body>
    {% include "base-navbar.html" %}

    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-offset-1 col-xs-10">
                <h3>监控</h3>
                <hr>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-offset-1 col-xs-10">
                <div class="row">
                    <div class="col-xs-4">
                        <span class="help-block">出液温度(T1):</span>
                    </div>
                    <div class="col-xs-4">
                        <span class="help-block">回液温度(T2):</span>
                    </div>
                    <div class="col-xs-4">
                        <span class="help-block">负载温度(T3):</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-offset-1 col-xs-10">
                <div class="row">
                    <div class="col-xs-4">
                        <div class="progress">
                          <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 40%">
                              10 ℃
                          </div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="progress">
                          <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%">
                              80 ℃
                          </div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="progress">
                          <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%">
                              80 ℃
                          </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="row">
            <div class="col-xs-offset-1 col-xs-10">
                <div class="row">
                    <div class="col-xs-4">
                        <div id="gauge1" class="200x160px"></div>
                    </div>
                    <div class="col-xs-4">
                        <div id="gauge2" class="200x160px"></div>
                    </div>
                    <div class="col-xs-4">
                        <div id="gauge3" class="200x160px"></div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script src="/static/js/bootstrap.js"></script>
</body>
</html>